<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üïå</text></svg>">
  <title>Namaz Vakitleri</title>
  <style>
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: "Segoe UI", -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f8f9fa;
      color: #222;
      text-align: center;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    
    .container {
      max-width: 100%;
      padding: 10px;
    }
    
    h1 {
      margin: 15px 0 10px 0;
      color: #00695c;
      font-size: 1.5rem;
      padding: 0 10px;
    }
    
    .controls {
      margin: 15px auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
      padding: 0 10px;
    }
    
    .select-group {
      display: flex;
      gap: 10px;
      width: 100%;
      max-width: 400px;
    }
    
    select, button {
      padding: 12px 15px;
      border: 1px solid #009688;
      border-radius: 8px;
      font-size: 16px;
      background: white;
      cursor: pointer;
      width: 100%;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
    
    select {
      background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23009688' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
      padding-right: 40px;
    }
    
    .button-group {
      display: flex;
      gap: 10px;
      width: 100%;
      max-width: 400px;
    }
    
    button {
      background: #009688;
      color: white;
      border: none;
      transition: all 0.3s ease;
      font-weight: 600;
      flex: 1;
    }
    
    button:active {
      transform: scale(0.98);
      background: #00796b;
    }
    
    button:hover {
      background: #00796b;
    }
    
    button:disabled {
      background: #cccccc;
      cursor: not-allowed;
      transform: none;
    }
    
    #bildirimBtn.bildirim-acik {
      background: #d32f2f;
    }
    
    #bildirimBtn.bildirim-acik:active {
      background: #c62828;
    }
    
    .notification-status {
      margin: 8px 0;
      font-size: 14px;
      color: #666;
      padding: 0 10px;
    }
    
    .notification-status.acik {
      color: #388e3c;
      font-weight: bold;
    }
    
    .location-info {
      margin: 10px auto;
      font-size: 14px;
      color: #555;
      padding: 0 15px;
      line-height: 1.4;
    }
    
    .current-prayer {
      margin: 15px auto;
      padding: 20px 15px;
      background: linear-gradient(135deg, #009688, #00695c);
      color: white;
      border-radius: 12px;
      max-width: 400px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
    }
    
    .current-prayer h2 {
      margin: 0 0 12px 0;
      font-size: 16px;
      font-weight: 600;
    }
    
    .current-prayer .prayer-name {
      font-size: 22px;
      font-weight: bold;
      margin: 8px 0;
    }
    
    .current-prayer .time-left {
      font-size: 15px;
      margin-top: 12px;
      opacity: 0.95;
      line-height: 1.4;
    }
    
    .table-container {
      overflow-x: auto;
      margin: 15px 10px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      min-width: 300px;
    }
    
    th, td {
      padding: 14px 16px;
      border-bottom: 1px solid #e0e0e0;
      text-align: center;
    }
    
    th {
      background: #009688;
      color: white;
      font-weight: 600;
      position: sticky;
      top: 0;
    }
    
    tr.current {
      background: #e0f2f1 !important;
      font-weight: bold;
      color: #00695c;
    }
    
    tr:nth-child(even) {
      background: #f8f8f8;
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    footer {
      margin: 20px 0 0 0;
      padding: 20px 15px;
      background: #009688;
      color: white;
      font-style: italic;
      line-height: 1.5;
    }
    
    /* Mobil i√ßin √∂zel stiller */
    @media (min-width: 768px) {
      .container {
        max-width: 600px;
        margin: 0 auto;
      }
      
      .controls {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .select-group {
        max-width: 300px;
      }
      
      .button-group {
        max-width: 300px;
      }
      
      h1 {
        font-size: 2rem;
        margin: 20px 0 15px 0;
      }
      
      .current-prayer {
        padding: 25px 20px;
      }
      
      .current-prayer h2 {
        font-size: 18px;
      }
      
      .current-prayer .prayer-name {
        font-size: 26px;
      }
    }
    
    @media (max-width: 380px) {
      .select-group, .button-group {
        flex-direction: column;
      }
      
      select, button {
        font-size: 14px;
        padding: 10px 12px;
      }
      
      th, td {
        padding: 12px 10px;
        font-size: 14px;
      }
    }
    
    /* Y√ºkleniyor animasyonu */
    .loading {
      opacity: 0.7;
      pointer-events: none;
    }
    .emoji {
  font-size: 1.2em;
  vertical-align: middle;
}
  </style>
</head>
<body>
  <div class="container">
    <h1>üïå Namaz Vakitleri</h1>
    
    <div class="controls">
      <div class="select-group">
        <select id="ulkeSelect">
          <option value="Turkey">T√ºrkiye</option>
          <option value="Germany">Almanya</option>
          <option value="France">Fransa</option>
          <option value="USA">Amerika</option>
        </select>
        
        <select id="sehirSelect">
          <!-- T√ºrkiye ≈üehirleri -->
          <option value="Adana">Adana</option>
          <option value="Adƒ±yaman">Adƒ±yaman</option>
          <option value="Afyonkarahisar">Afyonkarahisar</option>
          <option value="Aƒürƒ±">Aƒürƒ±</option>
          <option value="Aksaray">Aksaray</option>
          <option value="Amasya">Amasya</option>
          <option value="Ankara">Ankara</option>
          <option value="Antalya">Antalya</option>
          <option value="Ardahan">Ardahan</option>
          <option value="Artvin">Artvin</option>
          <option value="Aydƒ±n">Aydƒ±n</option>
          <option value="Balƒ±kesir">Balƒ±kesir</option>
          <option value="Bartƒ±n">Bartƒ±n</option>
          <option value="Batman">Batman</option>
          <option value="Bayburt">Bayburt</option>
          <option value="Bilecik">Bilecik</option>
          <option value="Bing√∂l">Bing√∂l</option>
          <option value="Bitlis">Bitlis</option>
          <option value="Bolu">Bolu</option>
          <option value="Burdur">Burdur</option>
          <option value="Bursa">Bursa</option>
          <option value="√áanakkale">√áanakkale</option>
          <option value="√áankƒ±rƒ±">√áankƒ±rƒ±</option>
          <option value="√áorum">√áorum</option>
          <option value="Denizli">Denizli</option>
          <option value="Diyarbakƒ±r">Diyarbakƒ±r</option>
          <option value="D√ºzce">D√ºzce</option>
          <option value="Edirne">Edirne</option>
          <option value="Elazƒ±ƒü">Elazƒ±ƒü</option>
          <option value="Erzincan">Erzincan</option>
          <option value="Erzurum">Erzurum</option>
          <option value="Eski≈üehir">Eski≈üehir</option>
          <option value="Gaziantep">Gaziantep</option>
          <option value="Giresun">Giresun</option>
          <option value="G√ºm√º≈ühane">G√ºm√º≈ühane</option>
          <option value="Hakkari">Hakkari</option>
          <option value="Hatay">Hatay</option>
          <option value="Iƒüdƒ±r" selected>Iƒüdƒ±r</option>
          <option value="Isparta">Isparta</option>
          <option value="ƒ∞stanbul">ƒ∞stanbul</option>
          <option value="ƒ∞zmir">ƒ∞zmir</option>
          <option value="Kahramanmara≈ü">Kahramanmara≈ü</option>
          <option value="Karab√ºk">Karab√ºk</option>
          <option value="Karaman">Karaman</option>
          <option value="Kars">Kars</option>
          <option value="Kastamonu">Kastamonu</option>
          <option value="Kayseri">Kayseri</option>
          <option value="Kƒ±rƒ±kkale">Kƒ±rƒ±kkale</option>
          <option value="Kƒ±rklareli">Kƒ±rklareli</option>
          <option value="Kƒ±r≈üehir">Kƒ±r≈üehir</option>
          <option value="Kilis">Kilis</option>
          <option value="Kocaeli">Kocaeli</option>
          <option value="Konya">Konya</option>
          <option value="K√ºtahya">K√ºtahya</option>
          <option value="Malatya">Malatya</option>
          <option value="Manisa">Manisa</option>
          <option value="Mardin">Mardin</option>
          <option value="Mersin">Mersin</option>
          <option value="Muƒüla">Muƒüla</option>
          <option value="Mu≈ü">Mu≈ü</option>
          <option value="Nev≈üehir">Nev≈üehir</option>
          <option value="Niƒüde">Niƒüde</option>
          <option value="Ordu">Ordu</option>
          <option value="Osmaniye">Osmaniye</option>
          <option value="Rize">Rize</option>
          <option value="Sakarya">Sakarya</option>
          <option value="Samsun">Samsun</option>
          <option value="Siirt">Siirt</option>
          <option value="Sinop">Sinop</option>
          <option value="Sivas">Sivas</option>
          <option value="≈ûanlƒ±urfa">≈ûanlƒ±urfa</option>
          <option value="≈ûƒ±rnak">≈ûƒ±rnak</option>
          <option value="Tekirdaƒü">Tekirdaƒü</option>
          <option value="Tokat">Tokat</option>
          <option value="Trabzon">Trabzon</option>
          <option value="Tunceli">Tunceli</option>
          <option value="U≈üak">U≈üak</option>
          <option value="Van">Van</option>
          <option value="Yalova">Yalova</option>
          <option value="Yozgat">Yozgat</option>
          <option value="Zonguldak">Zonguldak</option>
        </select>
      </div>
      
     <div class="button-group">
  <button id="vakitGetirBtn">üìÖ Vakitleri Getir</button>
  <button id="konumBtn">üìç Konumumu Kullan</button>
  <button id="bildirimBtn">üîî Bildirimleri A√ß</button>
</div>
    </div>
    
    <div class="notification-status" id="bildirimDurum">
      üîï Bildirimler: Kapalƒ±
    </div>
    
    <div class="location-info" id="konumBilgi">
      ≈ûehir: Iƒüdƒ±r, √úlke: T√ºrkiye
    </div>
    
    <div class="current-prayer" id="suankiVakit" style="display: none;">
      <h2>üïã ≈ûu Anki Vakit</h2>
      <div class="prayer-name" id="vakitAdi">-</div>
      <div class="time-left" id="kalanSure">-</div>
    </div>
    
    <div class="table-container">
      <table id="vakitler">
        <tr><th>Vakit</th><th>Saat</th></tr>
      </table>
    </div>
    
    <footer id="ayet"></footer>
  </div>

  <script>
    // Deƒüi≈ükenler
    let bildirimAktif = false;
    let zamanlayicilar = [];
    let suankiVakitTimer = null;
    let namazVakitleri = {};

    // T√ºrk√ße isim e≈üle≈ütirmesi
    const ceviri = {
      "Fajr": "ƒ∞msak",
      "Sunrise": "G√ºne≈ü",
      "Dhuhr": "√ñƒüle",
      "Asr": "ƒ∞kindi",
      "Maghrib": "Ak≈üam",
      "Isha": "Yatsƒ±"
    };

    // Vakit sƒ±ralamasƒ±
    const vakitSirasi = ["ƒ∞msak", "G√ºne≈ü", "√ñƒüle", "ƒ∞kindi", "Ak≈üam", "Yatsƒ±"];

    // Rasgele ayetler
    const ayetler = [
  "‚Äú≈û√ºphesiz ki namaz, m√ºminlere vakitleri belirlenmi≈ü bir farzdƒ±r.‚Äù (Nis√¢, 103)",
  "‚ÄúEy iman edenler! Sabƒ±r ve namazla yardƒ±m dileyin. Allah sabredenlerle beraberdir.‚Äù (Bakara, 153)",
  "‚ÄúNamazƒ± dosdoƒüru kƒ±lƒ±n, zek√¢tƒ± verin ve r√ºk√ª edenlerle birlikte r√ºk√ª edin.‚Äù (Bakara, 43)",
  "‚ÄúRabbini sabah ak≈üam zikret.‚Äù (ƒ∞nsan, 25)",
  "‚ÄúBen cinleri ve insanlarƒ± ancak bana kulluk etsinler diye yarattƒ±m.‚Äù (Z√¢riy√¢t, 56)",
  "‚Äú≈û√ºphesiz kalpler ancak Allah‚Äôƒ±n zikriyle huzur bulur.‚Äù (Ra‚Äôd, 28)",
  "‚ÄúNamaz k√∂t√ºl√ºkten ve hayasƒ±zlƒ±ktan alƒ±koyar.‚Äù (Ankeb√ªt, 45)",
  "‚ÄúRabbinize dua edin, O‚Äôna al√ßak g√∂n√ºll√ºl√ºkle ve gizlice yalvarƒ±n.‚Äù (A‚Äôr√¢f, 55)",
  "‚ÄúKim Allah‚Äôa y√∂nelirse, Allah da ona rahmet kapƒ±larƒ±nƒ± a√ßar.‚Äù (Z√ºmer, 54)",
  "‚ÄúRabbim! Bana ve ana babama nimet verdiƒüin i√ßin ≈ü√ºkretmemi saƒüla.‚Äù (Neml, 19)",
  "‚Äú≈û√ºkrederseniz, elbette size nimetimi artƒ±rƒ±rƒ±m.‚Äù (ƒ∞brahim, 7)",
  "‚ÄúAllah sabredenleri sever.‚Äù (√Çl-i ƒ∞mr√¢n, 146)",
  "‚ÄúNamazƒ± kƒ±l, zek√¢tƒ± ver ve Allah‚Äôa g√ºzel bir bor√ß ver.‚Äù (M√ºzzemmil, 20)",
  "‚ÄúRabbini sabah ak≈üam √∂verek tesbih et.‚Äù (T√¢h√¢, 130)",
  "‚ÄúHer kim Allah‚Äôa tevekk√ºl ederse, O ona yeter.‚Äù (Tal√¢k, 3)",
  "‚ÄúRabbim beni ve soyumdan gelecekleri namazƒ± devamlƒ± kƒ±lanlardan eyle.‚Äù (ƒ∞brahim, 40)",
  "‚ÄúEy iman edenler! Allah‚Äôƒ± √ßok√ßa zikredin.‚Äù (Ahz√¢b, 41)",
  "‚ÄúUnuttuƒüun zaman Rabbini an ve ‚ÄòUmarƒ±m Rabbim beni daha hayƒ±rlƒ±sƒ±na ula≈ütƒ±rƒ±r‚Äô de.‚Äù (Kehf, 24)",
  "‚ÄúAllah‚Äôa y√∂nelen bir kalple gelenden ba≈ükasƒ± o g√ºn kurtulamaz.‚Äù (≈ûuar√¢, 89)",
  "‚ÄúAllah‚Äôa kar≈üƒ± gelmekten sakƒ±nƒ±n ki kurtulu≈üa eresiniz.‚Äù (√Çl-i ƒ∞mr√¢n, 200)",
  "‚ÄúAllah dilediƒüini doƒüru yola iletir.‚Äù (Bakara, 213)",
  "‚ÄúKim Allah‚Äôtan korkarsa, Allah ona bir √ßƒ±kƒ±≈ü yolu verir.‚Äù (Tal√¢k, 2)",
  "‚ÄúRabbine tevekk√ºl et, √ß√ºnk√º sen apa√ßƒ±k bir hak √ºzerindesin.‚Äù (Neml, 79)",
  "‚ÄúEy iman edenler! Allah‚Äôtan korkun ve doƒürularla beraber olun.‚Äù (Tevbe, 119)",
  "‚ÄúAllah sizin suretlerinize deƒüil, kalplerinize bakar.‚Äù (M√ºslim, 2564 - Hadis meali)",
  "‚ÄúRabbinizden baƒüƒ±≈ülanma dileyin, √ß√ºnk√º O √ßok baƒüƒ±≈ülayandƒ±r.‚Äù (Nuh, 10)",
  "‚ÄúSabredin. √á√ºnk√º Allah iyilik yapanlarƒ±n ecrini zayi etmez.‚Äù (H√ªd, 115)",
  "‚ÄúRabbim bana yeter. O ne g√ºzel vekildir.‚Äù (√Çl-i ƒ∞mr√¢n, 173)",
  "‚ÄúAllah‚Äôa √ßaƒüƒ±ran, salih amel i≈üleyen ve ‚ÄòBen M√ºsl√ºmanƒ±m‚Äô diyenden daha g√ºzel s√∂zl√º kim vardƒ±r?‚Äù (Fussilet, 33)",
  "‚ÄúEy Rabbimiz! Bizi doƒüru yola ilettikten sonra kalplerimizi eƒüriltme.‚Äù (√Çl-i ƒ∞mr√¢n, 8)",
  "‚ÄúAllah bir toplumu, onlar kendilerini deƒüi≈ütirmedik√ße deƒüi≈ütirmez.‚Äù (Ra‚Äôd, 11)",
  "‚ÄúRabbini zikret; kalbin huzur bulsun.‚Äù (Ra‚Äôd, 28)",
  "‚ÄúGer√ßek kurtulu≈ü, kalbini Allah‚Äôa teslim edenlerindir.‚Äù (Bakara, 112)",
  "‚ÄúHer kim Allah‚Äôa y√∂nelirse, Allah onun i≈üini kolayla≈ütƒ±rƒ±r.‚Äù (Tal√¢k, 4)",
  "‚ÄúEy iman edenler! Allah‚Äôtan korkun, herkes yarƒ±n i√ßin ne hazƒ±rladƒ±ƒüƒ±na baksƒ±n.‚Äù (Ha≈ür, 18)",
  "‚ÄúAllah‚Äôƒ±n rahmetinden √ºmit kesmeyin.‚Äù (Z√ºmer, 53)",
  "‚ÄúRabbine y√∂nel, O‚Äôna dayan.‚Äù (M√ºzzemmil, 8)",
  "‚ÄúRabbine secde et ve O‚Äôna yakla≈ü.‚Äù (Alak, 19)",
  "‚ÄúAllah katƒ±nda en deƒüerli olanƒ±nƒ±z, O‚Äôndan en √ßok sakƒ±nanƒ±nƒ±zdƒ±r.‚Äù (Hucur√¢t, 13)",
  "‚ÄúZorlukla beraber mutlaka bir kolaylƒ±k vardƒ±r.‚Äù (ƒ∞n≈üir√¢h, 6)",
  "‚ÄúRabbim! ƒ∞limde beni artƒ±r.‚Äù (T√¢h√¢, 114)",
  "‚ÄúKim Allah‚Äôa sƒ±ƒüƒ±nƒ±rsa, Allah ona yeter.‚Äù (Ahz√¢b, 3)",
  "‚ÄúAllah kuluna k√¢fi deƒüil mi?‚Äù (Z√ºmer, 36)",
  "‚ÄúSabƒ±rla ve g√ºzel davranƒ±≈üla k√∂t√ºl√ºƒü√º sav.‚Äù (Fussilet, 34)",
  "‚ÄúRabbine y√∂nelen kimse i√ßin bir kurtulu≈ü vardƒ±r.‚Äù (N√¢zi√¢t, 40-41)",
  "‚ÄúGecenin bir kƒ±smƒ±nda kalk ve O‚Äôna secde et.‚Äù (ƒ∞ns√¢n, 26)",
  "‚ÄúGer√ßekten insan, ancak √ßalƒ±≈ütƒ±ƒüƒ±nƒ±n kar≈üƒ±lƒ±ƒüƒ±nƒ± alƒ±r.‚Äù (Necm, 39)",
  "‚ÄúRabbinin h√ºkm√ºne sabret, √ß√ºnk√º sen bizim g√∂zlerimiz √∂n√ºndesin.‚Äù (T√ªr, 48)",
  "‚ÄúAllah‚Äôƒ±n ipine hepiniz sƒ±msƒ±kƒ± sarƒ±lƒ±n.‚Äù (√Çl-i ƒ∞mr√¢n, 103)",
  "‚ÄúD√ºnya hayatƒ± bir oyun ve eƒülenceden ibarettir.‚Äù (Ankeb√ªt, 64)",
  "‚ÄúRabbine hamdet ve secde edenlerden ol.‚Äù (Hicr, 98)",
  "‚ÄúRabbimiz! √úzerimize sabƒ±r yaƒüdƒ±r, ayaklarƒ±mƒ±zƒ± sabit kƒ±l.‚Äù (Bakara, 250)",
  "‚ÄúAllah sabredenlerle beraberdir.‚Äù (Bakara, 153)",
  "‚ÄúKim bir iyilik yaparsa, ona on katƒ± verilir.‚Äù (En‚Äô√¢m, 160)",
  "‚ÄúAllah adaletli davranmanƒ±zƒ± ve iyilik yapmanƒ±zƒ± emreder.‚Äù (Nahl, 90)",
  "‚ÄúHer nefis √∂l√ºm√º tadacaktƒ±r.‚Äù (√Çl-i ƒ∞mr√¢n, 185)",
  "‚ÄúRabbim! G√∂nl√ºm√º geni≈ület, i≈üimi kolayla≈ütƒ±r.‚Äù (T√¢h√¢, 25-26)",
  "‚ÄúKim Allah‚Äôƒ± unutursa, Allah da ona kendini unutturur.‚Äù (Ha≈ür, 19)",
  "‚ÄúAllah kuluna zulmetmez.‚Äù (√Çl-i ƒ∞mr√¢n, 182)",
  "‚ÄúHi√ß bilenlerle bilmeyenler bir olur mu?‚Äù (Z√ºmer, 9)",
  "‚ÄúEy iman edenler! Sabƒ±r ve namazla Allah‚Äôtan yardƒ±m isteyin.‚Äù (Bakara, 45)",
  "‚ÄúRabbine dua et ve kurban kes.‚Äù (Kevser, 2)",
  "‚ÄúRabbinin adƒ±nƒ± an ve b√ºt√ºn benliƒüinle O‚Äôna y√∂nel.‚Äù (M√ºzzemmil, 8)",
  "‚ÄúYery√ºz√ºnde kibirle y√ºr√ºme.‚Äù (Lokman, 18)",
  "‚Äú≈û√ºphesiz Allah, t√∂vbe edenleri sever.‚Äù (Bakara, 222)",
  "‚ÄúAllah, yapƒ±lan her i≈üi hakkƒ±yla g√∂r√ºr.‚Äù (Ahz√¢b, 9)",
  "‚ÄúRabbin sana darƒ±lmadƒ± ve seni terk etmedi.‚Äù (Duh√¢, 3)",
  "‚Äú≈û√ºphesiz Allah‚Äôƒ±n vaadi ger√ßektir.‚Äù (Y√ªnus, 55)",
  "‚ÄúAllah kimseye g√ºc√ºn√ºn yettiƒüinden fazlasƒ±nƒ± y√ºklemez.‚Äù (Bakara, 286)",
  "‚ÄúRabbinin nimetini an ve ≈ü√ºkret.‚Äù (Duha, 11)",
  "‚ÄúAllah‚Äôƒ±n rahmeti geni≈ütir.‚Äù (A‚Äôr√¢f, 156)",
  "‚Äú≈ûeytan sizi fakirlikle korkutur, Allah ise l√ºtfu ile m√ºjdeler.‚Äù (Bakara, 268)",
  "‚ÄúEy iman edenler! Allah‚Äôtan korkun ve doƒüru s√∂z s√∂yleyin.‚Äù (Ahz√¢b, 70)",
  "‚ÄúAllah‚Äôa itaat edin, Peygamber‚Äôe de itaat edin.‚Äù (Nis√¢, 59)",
  "‚ÄúAllah, g√ºzel davrananlarƒ± sever.‚Äù (Bakara, 195)",
  "‚Äúƒ∞yilikle k√∂t√ºl√ºk bir olmaz; sen k√∂t√ºl√ºƒü√º en g√ºzel ≈üekilde sav.‚Äù (Fussilet, 34)",
  "‚ÄúEy iman edenler! Allah‚Äôa kar≈üƒ± gelmekten sakƒ±nƒ±n.‚Äù (Ha≈ür, 18)",
  "‚ÄúAllah‚Äôƒ±n yardƒ±mƒ± ve zaferi geldiƒüinde Rabbini hamd ile tesbih et.‚Äù (Nasr, 1-3)",
  "‚ÄúRabbimiz! Bizi doƒüru yola ilet.‚Äù (F√¢tiha, 6)",
  "‚ÄúKim Allah‚Äôa y√∂nelirse, Allah onun g√∂ƒüs√ºn√º a√ßar.‚Äù (Z√ºmer, 22)",
  "‚ÄúAllah, kullarƒ±na kar≈üƒ± √ßok merhametlidir.‚Äù (Bakara, 143)",
  "‚ÄúAllah‚Äôƒ±n izni olmadƒ±k√ßa hi√ßbir musibet gelmez.‚Äù (Teƒü√¢b√ºn, 11)",
  "‚ÄúRabbim beni dosdoƒüru yola ilet.‚Äù (Y√¢s√Æn, 61)",
  "‚ÄúKullarƒ±m sana beni sorduklarƒ±nda, ben onlara √ßok yakƒ±nƒ±m.‚Äù (Bakara, 186)",
  "‚ÄúEy iman edenler! Allah‚Äôa ve Peygamberine itaat edin.‚Äù (Enf√¢l, 20)",
  "‚ÄúHi√ß ≈ü√ºphesiz Allah, vaadinden d√∂nmez.‚Äù (R√ªm, 6)",
  "‚ÄúAllah‚Äôƒ±n ipine sƒ±msƒ±kƒ± sarƒ±lƒ±n ve ayrƒ±lƒ±ƒüa d√º≈ümeyin.‚Äù (√Çl-i ƒ∞mr√¢n, 103)",
  "‚ÄúAllah‚Äôƒ±n rahmeti, iyi i≈ü yapanlara yakƒ±ndƒ±r.‚Äù (A‚Äôr√¢f, 56)",
  "‚ÄúRabbin affedici ve merhametlidir.‚Äù (Kehf, 58)",
  "‚ÄúAllah‚Äôa tevekk√ºl et, O vekil olarak yeter.‚Äù (Ahz√¢b, 3)",
  "‚ÄúRabbine y√∂nel, √ß√ºnk√º d√∂n√º≈ü yalnƒ±z O‚Äônadƒ±r.‚Äù (Alak, 8)",
  "‚ÄúAllah‚Äôƒ±n yardƒ±mƒ± yakƒ±ndƒ±r.‚Äù (Bakara, 214)",
  "‚ÄúAllah‚Äôa sƒ±ƒüƒ±nƒ±n, √ß√ºnk√º O i≈üiten ve bilendir.‚Äù (M√ºmin, 60)",
  "‚ÄúO, sizi karanlƒ±klardan aydƒ±nlƒ±ƒüa √ßƒ±karandƒ±r.‚Äù (Had√Æd, 9)",
  "‚ÄúRabbinin h√ºkm√ºne sabret; √ß√ºnk√º O, en iyi h√ºkmedenlerin ta kendisidir.‚Äù (Y√ªnus, 109)"
];


    // √úlkelere g√∂re ≈üehirler
    const sehirler = {
      "Turkey": [
        "Adana", "Adƒ±yaman", "Afyonkarahisar", "Aƒürƒ±", "Aksaray", "Amasya", "Ankara", "Antalya", 
        "Ardahan", "Artvin", "Aydƒ±n", "Balƒ±kesir", "Bartƒ±n", "Batman", "Bayburt", "Bilecik", 
        "Bing√∂l", "Bitlis", "Bolu", "Burdur", "Bursa", "√áanakkale", "√áankƒ±rƒ±", "√áorum", 
        "Denizli", "Diyarbakƒ±r", "D√ºzce", "Edirne", "Elazƒ±ƒü", "Erzincan", "Erzurum", "Eski≈üehir", 
        "Gaziantep", "Giresun", "G√ºm√º≈ühane", "Hakkari", "Hatay", "Iƒüdƒ±r", "Isparta", "ƒ∞stanbul", 
        "ƒ∞zmir", "Kahramanmara≈ü", "Karab√ºk", "Karaman", "Kars", "Kastamonu", "Kayseri", "Kƒ±rƒ±kkale", 
        "Kƒ±rklareli", "Kƒ±r≈üehir", "Kilis", "Kocaeli", "Konya", "K√ºtahya", "Malatya", "Manisa", 
        "Mardin", "Mersin", "Muƒüla", "Mu≈ü", "Nev≈üehir", "Niƒüde", "Ordu", "Osmaniye", "Rize", 
        "Sakarya", "Samsun", "Siirt", "Sinop", "Sivas", "≈ûanlƒ±urfa", "≈ûƒ±rnak", "Tekirdaƒü", 
        "Tokat", "Trabzon", "Tunceli", "U≈üak", "Van", "Yalova", "Yozgat", "Zonguldak"
      ],
      "Germany": [
        "Berlin", "Munich", "Hamburg", "Cologne", "Frankfurt", "Stuttgart", "D√ºsseldorf", 
        "Dortmund", "Essen", "Leipzig", "Bremen", "Dresden", "Hannover", "Nuremberg"
      ],
      "France": [
        "Paris", "Marseille", "Lyon", "Toulouse", "Nice", "Nantes", "Strasbourg", "Montpellier", 
        "Bordeaux", "Lille", "Rennes", "Reims", "Le Havre", "Saint-√âtienne"
      ],
      "USA": [
        "New York", "Los Angeles", "Chicago", "Houston", "Phoenix", "Philadelphia", "San Antonio", 
        "San Diego", "Dallas", "San Jose", "Austin", "Jacksonville", "Fort Worth", "Columbus"
      ]
    };

    // Footer'da rasgele ayet
    document.getElementById("ayet").innerText = ayetler[Math.floor(Math.random() * ayetler.length)];

    // Elementleri se√ß
    const ulkeSelect = document.getElementById('ulkeSelect');
    const sehirSelect = document.getElementById('sehirSelect');
    const vakitGetirBtn = document.getElementById('vakitGetirBtn');
    const konumBtn = document.getElementById('konumBtn');
    const bildirimBtn = document.getElementById('bildirimBtn');
    const bildirimDurum = document.getElementById('bildirimDurum');
    const konumBilgi = document.getElementById('konumBilgi');
    const suankiVakitDiv = document.getElementById('suankiVakit');
    const vakitAdi = document.getElementById('vakitAdi');
    const kalanSure = document.getElementById('kalanSure');
    const container = document.querySelector('.container');

    // Sayfa y√ºklendiƒüinde ilk ayarlarƒ± yap
    window.addEventListener('load', function() {
      // Iƒüdƒ±r'ƒ± se√ßili yap
      sehirSelect.value = "Iƒüdƒ±r";
      // Vakitleri getir
      vakitleriGetir('Turkey', 'Iƒüdƒ±r');
      // Bildirim iznini kontrol et
      bildirimIzniniKontrolEt();
    });

    // √úlke deƒüi≈ütiƒüinde ≈üehirleri g√ºncelle
    ulkeSelect.addEventListener('change', function() {
      const ulke = this.value;
      sehirleriGuncelle(ulke);
    });

    // ≈ûehirleri g√ºncelle fonksiyonu
    function sehirleriGuncelle(ulke) {
      const sehirListesi = sehirler[ulke] || [];
      
      // ≈ûehir select'ini temizle
      sehirSelect.innerHTML = '';
      
      // Yeni ≈üehirleri ekle
      sehirListesi.forEach(sehir => {
        const option = document.createElement('option');
        option.value = sehir;
        option.textContent = sehir;
        sehirSelect.appendChild(option);
      });
      
      // ƒ∞lk ≈üehir i√ßin vakitleri getir
      if (sehirListesi.length > 0) {
        vakitleriGetir(ulke, sehirListesi[0]);
      }
    }

    // Bildirim iznini kontrol et
    function bildirimIzniniKontrolEt() {
      if ("Notification" in window) {
        if (Notification.permission === "granted") {
          bildirimAktif = true;
          bildirimBtn.textContent = "Bildirimleri Kapat";
          bildirimBtn.classList.add('bildirim-acik');
          bildirimDurum.textContent = "Bildirimler: A√ßƒ±k";
          bildirimDurum.classList.add('acik');
        } else {
          bildirimAktif = false;
          bildirimBtn.textContent = "Bildirimleri A√ß";
          bildirimBtn.classList.remove('bildirim-acik');
          bildirimDurum.textContent = "Bildirimler: Kapalƒ±";
          bildirimDurum.classList.remove('acik');
        }
      }
    }

    // Event listener'lar
    bildirimBtn.addEventListener('click', toggleBildirim);
    vakitGetirBtn.addEventListener('click', () => vakitleriGetir(ulkeSelect.value, sehirSelect.value));
    konumBtn.addEventListener('click', konumdanVakitGetir);

    // Y√ºkleniyor durumu
    function setLoading(isLoading) {
      if (isLoading) {
        container.classList.add('loading');
      } else {
        container.classList.remove('loading');
      }
    }

    // Konumdan vakit getirme
    function konumdanVakitGetir() {
      if (!navigator.geolocation) {
        alert("Tarayƒ±cƒ±nƒ±z konum √∂zelliƒüini desteklemiyor.");
        return;
      }

      konumBtn.disabled = true;
      konumBtn.textContent = "Konum Alƒ±nƒ±yor...";
      setLoading(true);

      navigator.geolocation.getCurrentPosition(
        async (position) => {
          const { latitude, longitude } = position.coords;
          try {
            // Konumu ≈üehir ismine √ßevir
            const response = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=tr`);
            const locationData = await response.json();
            
            let sehir = locationData.city || locationData.locality || "Bilinmeyen";
            const ulke = locationData.countryName || "Bilinmeyen";
            
            // API i√ßin √ºlke kodu e≈üle≈ütirme
            const ulkeKodlari = {
              "T√ºrkiye": "Turkey",
              "Germany": "Germany",
              "Almanya": "Germany",
              "France": "France",
              "Fransa": "France",
              "United States": "USA",
              "Amerika Birle≈üik Devletleri": "USA"
            };
            
            const ulkeKodu = ulkeKodlari[ulke] || ulke;
            
            // Select'leri g√ºncelle
            ulkeSelect.value = ulkeKodu;
            
            // ≈ûehir select'ini g√ºncelle
            sehirleriGuncelle(ulkeKodu);
            
            // Konumdaki ≈üehri bul ve se√ß
            const sehirListesi = sehirler[ulkeKodu] || [];
            let konumdakiSehir = sehirListesi.find(s => 
              s.toLowerCase().includes(sehir.toLowerCase()) || 
              sehir.toLowerCase().includes(s.toLowerCase())
            );
            
            if (!konumdakiSehir && sehirListesi.length > 0) {
              konumdakiSehir = sehirListesi[0];
            }
            
            if (konumdakiSehir) {
              sehirSelect.value = konumdakiSehir;
              sehir = konumdakiSehir;
            }
            
            // Vakitleri getir
            await vakitleriGetir(ulkeKodu, sehir);
            
            konumBilgi.textContent = `Konum: ${sehir}, ${ulke}`;
            
          } catch (error) {
            console.error("Konum hatasƒ±:", error);
            alert("Konum bilgisi alƒ±namadƒ±. L√ºtfen manuel olarak ≈üehir se√ßin.");
          } finally {
            konumBtn.disabled = false;
            konumBtn.textContent = "Konumumu Kullan";
            setLoading(false);
          }
        },
        (error) => {
          console.error("Konum izin hatasƒ±:", error);
          alert("Konum eri≈üim izni verilmedi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan izin verin.");
          konumBtn.disabled = false;
          konumBtn.textContent = "Konumumu Kullan";
          setLoading(false);
        },
        {
          enableHighAccuracy: true,
          timeout: 15000,
          maximumAge: 60000
        }
      );
    }

    // Bildirim a√ß/kapat - MOBƒ∞L UYUMLU
    function toggleBildirim() {
      if (!bildirimAktif) {
        // Bildirim a√ßma
        if ("Notification" in window) {
          // Mobil tarayƒ±cƒ±lar i√ßin √∂zel i≈ülem
          if (typeof Notification.requestPermission === "function") {
            Notification.requestPermission().then(permission => {
              if (permission === "granted") {
                bildirimAktif = true;
                bildirimBtn.textContent = "Bildirimleri Kapat";
                bildirimBtn.classList.add('bildirim-acik');
                bildirimDurum.textContent = "üîî Bildirimler: A√ßƒ±k";
                bildirimDurum.classList.add('acik');
                zamanlayicilariAyarla();
                
                // Mobil i√ßin test bildirimi g√∂ster
                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                  new Notification("Namaz Vakitleri", {
                    body: "Bildirimler ba≈üarƒ±yla a√ßƒ±ldƒ±!",
                    icon: "https://upload.wikimedia.org/wikipedia/commons/6/6b/Mosque_icon.png",
                    tag: "test"
                  });
                }
              } else if (permission === "denied") {
                alert("Bildirim izni tarayƒ±cƒ± ayarlarƒ±ndan engellenmi≈ü. L√ºtfen tarayƒ±cƒ± ayarlarƒ±nƒ±zdan bildirim iznini a√ßƒ±n.");
              } else {
                alert("Bildirim izni verilmedi. L√ºtfen izin vererek tekrar deneyin.");
              }
            }).catch(error => {
              console.error("Bildirim hatasƒ±:", error);
              alert("Bildirim ayarlanƒ±rken bir hata olu≈ütu: " + error.message);
            });
          }
        } else {
          alert("Bu tarayƒ±cƒ± bildirimleri desteklemiyor.");
        }
      } else {
        // Bildirim kapatma
        bildirimAktif = false;
        bildirimBtn.textContent = "Bildirimleri A√ß";
        bildirimBtn.classList.remove('bildirim-acik');
        bildirimDurum.textContent = "üîï Bildirimler: Kapalƒ±";
        bildirimDurum.classList.remove('acik');
        zamanlayicilariTemizle();
      }
    }

    // Vakitleri getir
    async function vakitleriGetir(ulke, sehir) {
      try {
        vakitGetirBtn.disabled = true;
        vakitGetirBtn.textContent = "Y√ºkleniyor...";
        setLoading(true);

        const response = await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${encodeURIComponent(sehir)}&country=${encodeURIComponent(ulke)}&method=13`);
        const data = await response.json();
        
        if (data.code === 200) {
          namazVakitleri = data.data.timings;
          tabloyuGuncelle();
          konumBilgi.textContent = `≈ûehir: ${sehir}, √úlke: ${ulkeSelect.options[ulkeSelect.selectedIndex].text}`;
          suankiVaktiGuncelle();
          zamanlayicilariAyarla();
        } else {
          throw new Error("API hatasƒ±");
        }
      } catch (error) {
        alert("Vakitler alƒ±namadƒ±: " + error.message);
      } finally {
        vakitGetirBtn.disabled = false;
        vakitGetirBtn.textContent = "üìÖ Vakitleri Getir";
        setLoading(false);
      }
    }

    // Tabloyu g√ºncelle
    function tabloyuGuncelle() {
      const table = document.getElementById("vakitler");
      // Mevcut satƒ±rlarƒ± temizle (ba≈ülƒ±k hari√ß)
      while (table.rows.length > 1) {
        table.deleteRow(1);
      }

      for (const [key, value] of Object.entries(namazVakitleri)) {
        if (ceviri[key]) {
          const row = document.createElement("tr");
          row.innerHTML = `<td>${ceviri[key]}</td><td>${value}</td>`;
          row.id = `row-${ceviri[key]}`;
          table.appendChild(row);
        }
      }
    }

    // ≈ûu anki vakti g√ºncelle
    function suankiVaktiGuncelle() {
      if (suankiVakitTimer) {
        clearInterval(suankiVakitTimer);
      }

      function hesaplaVeGoster() {
        const simdi = new Date();
        const suankiSaat = simdi.getHours().toString().padStart(2, '0') + ':' + 
                          simdi.getMinutes().toString().padStart(2, '0');

        let suankiVakit = null;
        let sonrakiVakit = null;
        let sonrakiVakitSaat = null;

        // Vakitleri kontrol et
        for (let i = 0; i < vakitSirasi.length; i++) {
          const vakit = vakitSirasi[i];
          const vakitSaat = Object.entries(namazVakitleri).find(([key, val]) => ceviri[key] === vakit)?.[1];
          
          if (vakitSaat) {
            if (suankiSaat < vakitSaat) {
              sonrakiVakit = vakit;
              sonrakiVakitSaat = vakitSaat;
              break;
            } else {
              suankiVakit = vakit;
            }
          }
        }

        // Gece yatsƒ±dan imsaka kadar
        if (!sonrakiVakit) {
          sonrakiVakit = "ƒ∞msak";
          sonrakiVakitSaat = namazVakitleri.Fajr;
        }

        // Tabloyu g√ºncelle
        document.querySelectorAll('#vakitler tr').forEach(tr => {
          tr.classList.remove('current');
        });
        if (suankiVakit) {
          document.getElementById(`row-${suankiVakit}`)?.classList.add('current');
        }

        // ≈ûu anki vakit bilgisini g√∂ster
        if (suankiVakit) {
          suankiVakitDiv.style.display = 'block';
          vakitAdi.textContent = `${suankiVakit} Vakti`;
          
          // Kalan s√ºreyi hesapla
          const [sonrakiSaat, sonrakiDakika] = sonrakiVakitSaat.split(':').map(Number);
          const sonrakiZaman = new Date();
          sonrakiZaman.setHours(sonrakiSaat, sonrakiDakika, 0, 0);
          
          if (sonrakiZaman < simdi) {
            sonrakiZaman.setDate(sonrakiZaman.getDate() + 1);
          }
          
          const kalanMs = sonrakiZaman - simdi;
          const kalanDakika = Math.floor(kalanMs / (1000 * 60));
          const kalanSaat = Math.floor(kalanDakika / 60);
          const kalanDakikaMod = kalanDakika % 60;
          
          if (kalanSaat > 0) {
            kalanSure.textContent = `Sonraki vakit (${sonrakiVakit}): ${kalanSaat}sa ${kalanDakikaMod}dakika`;
          } else {
            kalanSure.textContent = `Sonraki vakit (${sonrakiVakit}): ${kalanDakikaMod}dakika`;
          }
        } else {
          suankiVakitDiv.style.display = 'none';
        }
      }

      hesaplaVeGoster();
      suankiVakitTimer = setInterval(hesaplaVeGoster, 60000);
    }

    // Zamanlayƒ±cƒ±larƒ± ayarla
    function zamanlayicilariAyarla() {
      if (!bildirimAktif) return;
      
      zamanlayicilariTemizle();

      for (const [key, value] of Object.entries(namazVakitleri)) {
        if (ceviri[key]) {
          scheduleNotification(ceviri[key], value);
        }
      }
    }

    // Zamanlayƒ±cƒ±larƒ± temizle
    function zamanlayicilariTemizle() {
      zamanlayicilar.forEach(timer => clearTimeout(timer));
      zamanlayicilar = [];
    }

    // Bildirim planlama
    function scheduleNotification(vakitAdi, saat) {
      const [h, m] = saat.split(":").map(Number);
      const now = new Date();
      const target = new Date();
      target.setHours(h, m, 0, 0);

      if (target < now) {
        target.setDate(target.getDate() + 1);
      }

      const ms = target - now;
      const timer = setTimeout(() => {
        if (Notification.permission === "granted" && bildirimAktif) {
          new Notification("Namaz Vakti", {
            body: `${vakitAdi} vakti girdi.`,
            icon: "https://upload.wikimedia.org/wikipedia/commons/6/6b/Mosque_icon.png",
            tag: vakitAdi
          });
        }
        
        // Tekrar zamanla (ertesi g√ºn i√ßin)
        scheduleNotification(vakitAdi, saat);
      }, ms);

      zamanlayicilar.push(timer);
    }

    // Mobil i√ßin touch event iyile≈ütirmeleri
    document.addEventListener('touchstart', function() {}, {passive: true});
  </script>
</body>
</html>



